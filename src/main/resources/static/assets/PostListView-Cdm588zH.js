import{d as x,r as _,o as V,c as s,a as e,b as r,w as c,F as p,e as k,u as D,f as m,g as a,t as u,n as F,h as $,_ as B}from"./index-hz_xTI2V.js";import{a as L}from"./authStore-BkTa4oHE.js";import"./axios-upsvKRUO.js";const N={class:"post-list"},E=["onClick"],I={class:"pagination"},T=["disabled"],z=["onClick"],M=["disabled"],R=x({__name:"PostListView",setup(S){const v=D(),b=_([]),o=_(1),i=_(1),f=async(l=1)=>{await L.get("/post?page="+l).then(t=>{b.value=t.data.content,i.value=t.data.totalPages,o.value=t.data.number+1,console.log("============================="),console.log(t),console.log("=============================")}).catch(()=>{})};V(()=>{f()});const w=()=>{v.push({name:"create"})},y=l=>{v.push({name:"postDetail",params:{postId:l}})},d=l=>{l>0&&l<=i.value&&f(l)};return(l,t)=>{const g=m("el-row"),P=m("el-button"),h=m("el-col");return a(),s(p,null,[e("div",null,[r(g,{class:"my-3"},{default:c(()=>t[2]||(t[2]=[e("h5",null,"게시글이 표현됩니다",-1)])),_:1}),e("ul",N,[t[3]||(t[3]=e("li",{class:"ui-menu"},[e("span",null,"번호"),e("span",null,"제목"),e("span",null,"작성자"),e("span",null,"작성일")],-1)),(a(!0),s(p,null,k(b.value,(n,C)=>(a(),s("li",{key:n.id},[e("span",null,u(C+1),1),e("a",{onClick:j=>y(n.id),style:{cursor:"pointer",color:"#409EFF"}},u(n.title),9,E),e("span",null,u(n.regId),1),e("span",null,u(n.regDt),1)]))),128))])]),e("div",I,[e("button",{onClick:t[0]||(t[0]=n=>d(o.value-1)),disabled:o.value===1},"이전",8,T),(a(!0),s(p,null,k(i.value,n=>(a(),s("span",{key:n,class:F({active:n===o.value}),onClick:C=>d(n)},u(n),11,z))),128)),e("button",{onClick:t[1]||(t[1]=n=>d(o.value+1)),disabled:o.value===i.value},"다음",8,M)]),r(g,{class:"button-row"},{default:c(()=>[r(h,null,{default:c(()=>[r(P,{class:"el-button",type:"primary",onClick:w},{default:c(()=>t[4]||(t[4]=[$("등록")])),_:1})]),_:1})]),_:1})],64)}}}),H=B(R,[["__scopeId","data-v-3d0b83e6"]]);export{H as default};
