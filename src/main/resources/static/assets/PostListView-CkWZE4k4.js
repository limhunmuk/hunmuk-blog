import{d as x,e as _,f as V,o as s,g as a,h as e,a as r,w as c,F as p,i as k,u as F,r as m,t as u,n as $,b as B,_ as D}from"./index-Bu46FCoR.js";import{a as L}from"./authStore-eQVZia_j.js";import"./axios-upsvKRUO.js";const N={class:"post-list"},E=["onClick"],I={class:"pagination"},T=["disabled"],z=["onClick"],M=["disabled"],R=x({__name:"PostListView",setup(S){const v=F(),f=_([]),o=_(1),i=_(1),b=async(l=1)=>{await L.get("/post?page="+l).then(t=>{f.value=t.data.content,i.value=t.data.totalPages,o.value=t.data.number+1,console.log("============================="),console.log(t),console.log("=============================")}).catch(()=>{})};V(()=>{b()});const w=()=>{v.push({name:"create"})},y=l=>{v.push({name:"detail",params:{postId:l}})},d=l=>{l>0&&l<=i.value&&b(l)};return(l,t)=>{const g=m("el-row"),P=m("el-button"),h=m("el-col");return s(),a(p,null,[e("div",null,[r(g,{class:"my-3"},{default:c(()=>t[2]||(t[2]=[e("h5",null,"게시글이 표현됩니다",-1)])),_:1}),e("ul",N,[t[3]||(t[3]=e("li",{class:"ui-menu"},[e("span",null,"번호"),e("span",null,"제목"),e("span",null,"작성자"),e("span",null,"작성일")],-1)),(s(!0),a(p,null,k(f.value,(n,C)=>(s(),a("li",{key:n.id},[e("span",null,u(C+1),1),e("a",{onClick:j=>y(n.id),style:{cursor:"pointer",color:"#409EFF"}},u(n.title),9,E),e("span",null,u(n.regId),1),e("span",null,u(n.regDt),1)]))),128))])]),e("div",I,[e("button",{onClick:t[0]||(t[0]=n=>d(o.value-1)),disabled:o.value===1},"이전",8,T),(s(!0),a(p,null,k(i.value,n=>(s(),a("span",{key:n,class:$({active:n===o.value}),onClick:C=>d(n)},u(n),11,z))),128)),e("button",{onClick:t[1]||(t[1]=n=>d(o.value+1)),disabled:o.value===i.value},"다음",8,M)]),r(g,{class:"button-row"},{default:c(()=>[r(h,null,{default:c(()=>[r(P,{class:"el-button",type:"primary",onClick:w},{default:c(()=>t[4]||(t[4]=[B("등록")])),_:1})]),_:1})]),_:1})],64)}}}),H=D(R,[["__scopeId","data-v-51345b1f"]]);export{H as default};
